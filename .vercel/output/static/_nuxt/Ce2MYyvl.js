import{u as C,a as F,_ as B,T as h}from"./u0wlO-T7.js";import{aD as E,c as b,b as D,au as N,d as P,b5 as f,bp as a,b0 as x,b6 as r,b4 as c,a$ as p,u as R,aR as V,bB as O,bs as S,bA as j,a_ as m,b3 as w,aZ as L}from"./DNzG_PLS.js";import{u as z}from"./BS9CPI6k.js";import{u as H}from"./DlTQmCGC.js";import"./CUdrvLTM.js";import"./DRDYMHsX.js";const U={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},G={class:"container mx-auto px-4 py-8 max-w-5xl"},M={key:0,class:"flex items-center justify-center py-16"},Z={class:"text-center"},q={class:"text-gray-600 dark:text-gray-400"},J={key:1,class:"flex flex-col items-center justify-center py-16 text-center"},K={class:"text-2xl font-semibold text-gray-900 dark:text-white mb-2"},Q={class:"flex gap-3"},re=E({__name:"[id]",setup(W){const k=V(),d=S(),v=C(),l=H(),{state:u,fetchTemplate:T}=z(),t=b(()=>u.currentTemplate?u.currentTemplate:null),A=b(()=>u.loading),n=D(!1);N(()=>({title:t.value?`${t.value.title} - Template | AI Prompt Assistant`:"Template Details - AI Prompt Assistant",meta:[{name:"description",content:t.value?.description||"View and customize this AI prompt template"},{name:"keywords",content:t.value?.tags.join(", ")||"AI prompt template"},{property:"og:title",content:t.value?`${t.value.title} - Template`:"Template Details"},{property:"og:description",content:t.value?.description||"AI prompt template details"},{property:"og:type",content:"article"},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:t.value?.title||"Template Details"},{name:"twitter:description",content:t.value?.description||"AI prompt template"}]}));const _=async()=>{const e=k.params.id;if(!e){n.value=!0;return}try{n.value=!1,await T(e),t.value||(n.value=!0)}catch(o){console.error("Failed to load template:",o),n.value=!0}};P(()=>{_()});const $=async(e,o)=>{try{let s=e.basePrompt;Object.entries(o).forEach(([i,y])=>{const g=new RegExp(`{{${i}}}`,"g");s=s.replace(g,y)}),l.updateField("task",s),e.category==="business"?l.updateField("tone",h.PROFESSIONAL):e.category==="creative"?l.updateField("tone",h.CREATIVE):e.category==="technical"&&l.updateField("tone",h.TECHNICAL),v.add({title:"Template Applied",description:`${e.title} has been applied to the prompt builder.`,color:"emerald"}),await d.push("/builder")}catch(s){console.error("Failed to apply template:",s),v.add({title:"Error",description:"Failed to apply template. Please try again.",color:"primary"})}},I=async()=>{await d.push("/templates")};return(e,o)=>{const s=B,i=F,y=j("LazyTemplateDetail"),g=O;return m(),f("div",U,[a("div",G,[A.value?(m(),f("div",M,[a("div",Z,[r(s,{name:"i-heroicons-arrow-path",class:"w-12 h-12 text-emerald-500 animate-spin mx-auto mb-4"}),a("p",q,c(e.$t("templates.grid.loading")),1)])])):n.value?(m(),f("div",J,[r(s,{name:"i-heroicons-exclamation-triangle",class:"w-16 h-16 text-red-500 mb-4"}),a("h2",K,c(e.$t("common.error")),1),o[1]||(o[1]=a("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Failed to load template. The template may not exist or there was a server error. ",-1)),a("div",Q,[r(i,{color:"neutral",variant:"outline",onClick:o[0]||(o[0]=X=>R(d).push("/templates"))},{default:p(()=>[r(s,{name:"i-heroicons-arrow-left",class:"w-5 h-5"}),w(" "+c(e.$t("templates.detail.backToGallery")),1)]),_:1}),r(i,{color:"emerald",variant:"solid",onClick:_},{default:p(()=>[r(s,{name:"i-heroicons-arrow-path",class:"w-5 h-5"}),w(" "+c(e.$t("common.retry")||"Try Again"),1)]),_:1})])])):x("",!0),r(g,null,{fallback:p(()=>[...o[2]||(o[2]=[a("div",{class:"animate-pulse space-y-6"},[a("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),a("div",{class:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})],-1)])]),default:p(()=>[t.value?(m(),L(y,{key:0,template:t.value,onApply:$,onBack:I},null,8,["template"])):x("",!0)]),_:1})])])}}});export{re as default};
